---
phase: 75-live-ops-verification-closure
plan: 04
type: execute
wave: 4
depends_on: [75-03]
files_modified:
  - docs/smoke/phase75-live-ops-verification-closure.md
  - docs/runbooks/review-requested-debug.md
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "Deterministic closure evidence includes accepted review_requested and explicit @kodiai mention lanes for the same OPS75 matrix run"
    - "Live OPS75 evidence proves exactly one degraded telemetry row per degraded execution identity with duplicate checks passing"
    - "OPS75 closure evidence bundle records OPS75-PREFLIGHT-01, OPS75-CACHE-02, OPS75-ONCE-01, and OPS75-ONCE-02 as PASS in one run output"
  artifacts:
    - path: "docs/smoke/phase75-live-ops-verification-closure.md"
      provides: "Latest live-run evidence block with fresh lane/degraded identities and PASS outputs for remaining blockers"
      contains: "OPS75-CACHE-02: PASS"
    - path: "docs/runbooks/review-requested-debug.md"
      provides: "Operator capture checklist to pre-validate accepted review lane, mention telemetry rows, and degraded identities before verifier execution"
      contains: "OPS75-PREFLIGHT-01"
  key_links:
    - from: "docs/runbooks/review-requested-debug.md"
      to: "docs/smoke/phase75-live-ops-verification-closure.md"
      via: "Identity capture and SQL checks feed the exact verifier arguments used in the smoke evidence command"
      pattern: "--review|--review-accepted|--mention|--degraded"
    - from: "docs/smoke/phase75-live-ops-verification-closure.md"
      to: "scripts/phase75-live-ops-verification-closure.ts"
      via: "Captured run output must show remaining check families pass under the verifier contract"
      pattern: "OPS75-CACHE-02|OPS75-ONCE-01|OPS75-ONCE-02"
---

<objective>
Close the remaining Phase 75 verification gaps by capturing a fresh live OPS75 evidence bundle that proves mention-lane coverage and degraded exactly-once telemetry rows in the same deterministic matrix run.

Purpose: Plan 75-03 fixed tooling and preflight contracts, but closure is still blocked because sampled live identities did not include persisted mention-lane rows or degraded rows with `degradation_path != none`.
Output: Updated smoke and debug docs with fresh run identities plus verifier output showing all previously failing OPS75 checks now pass.
</objective>

<execution_context>
@/home/keith/.config/opencode/get-shit-done/workflows/execute-plan.md
@/home/keith/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/75-live-ops-verification-closure/75-03-SUMMARY.md
@.planning/phases/75-live-ops-verification-closure/75-VERIFICATION.md
@docs/smoke/phase75-live-ops-verification-closure.md
@docs/runbooks/review-requested-debug.md
@scripts/phase75-live-ops-verification-closure.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Capture a fresh OPS75 identity set that satisfies mention-lane and degraded-row prerequisites</name>
  <files>docs/runbooks/review-requested-debug.md, docs/smoke/phase75-live-ops-verification-closure.md</files>
  <action>
Use the existing live trigger flow to collect new matrix identities, but gate identity selection before verification so missing-row reruns are avoided:

- Trigger a new review_requested lane (with explicit accepted reviewer evidence), a new mention lane, and degraded executions that actually rate-limit and emit `degradation_path != none`.
- Run SQL checks before `verify:phase75` to confirm each sampled mention identity has one telemetry row and each degraded identity has exactly one degraded row candidate.
- Reject stale or incomplete identity candidates; only keep identities that satisfy the verifier contract for lane and degraded prerequisites.
- Update `docs/runbooks/review-requested-debug.md` and the smoke procedure section with a concise pre-verification checklist so future reruns collect valid identities first.
  </action>
  <verify>
Run SQL checks from `docs/runbooks/review-requested-debug.md` and confirm chosen identities return expected rows before invoking verifier.
  </verify>
  <done>
Fresh identity inputs are captured with pre-validated mention and degraded telemetry row presence, and docs now encode that prerequisite workflow explicitly.
  </done>
</task>

<task type="auto">
  <name>Task 2: Re-run deterministic verifier and publish a passing OPS75 evidence bundle</name>
  <files>docs/smoke/phase75-live-ops-verification-closure.md</files>
  <action>
Execute `bun run verify:phase75` using the pre-validated identities from Task 1 and update smoke evidence with the complete output:

- Include both review lane identities (`--review` and `--review-accepted`) and mention lane identities (`--mention`) from the same fresh matrix run.
- Include degraded identities that produced `degradation_path != none` rows and verify duplicate checks against the same identity set.
- Attach the command output block and identity table showing `OPS75-PREFLIGHT-01`, `OPS75-CACHE-02`, `OPS75-ONCE-01`, and `OPS75-ONCE-02` all PASS (retain fail-open checks as PASS evidence).
- If any of these checks fail, do not claim closure; document exact failing check IDs in the smoke evidence block.
  </action>
  <verify>
Run `bun run verify:phase75` with the captured identities and confirm final verdict is PASS with no failing `OPS75-*` IDs.
  </verify>
  <done>
The latest smoke evidence demonstrates passing mention-lane matrix proof and degraded exactly-once proof in one deterministic run, unblocking Phase 75 verification.
  </done>
</task>

</tasks>

<verification>
- SQL pre-checks confirm selected mention and degraded identities have required telemetry rows before verifier execution.
- `bun run verify:phase75 ...` returns PASS and includes passing `OPS75-PREFLIGHT-01`, `OPS75-CACHE-02`, `OPS75-ONCE-01`, and `OPS75-ONCE-02` in one output bundle.
- `docs/smoke/phase75-live-ops-verification-closure.md` records the latest command, identities, and check-family outputs for reproducible closure evidence.
</verification>

<success_criteria>
Phase 75 closure evidence no longer has missing mention or degraded telemetry rows: the documented live run proves both surfaces in the cache matrix and exactly-once degraded telemetry emission with passing OPS75 check families.
</success_criteria>

<output>
After completion, create `.planning/phases/75-live-ops-verification-closure/75-04-SUMMARY.md`
</output>

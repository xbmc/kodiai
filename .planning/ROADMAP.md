# Roadmap: Kodiai

## Milestones

- ✅ **v0.1 MVP** — Phases 1-10 (shipped 2026-02-09)
- ✅ **v0.2 Write Mode** — Phases 11-21 (shipped 2026-02-10)
- ✅ **v0.3 Configuration & Observability** — Phases 22-25 (shipped 2026-02-11)
- ✅ **v0.4 Intelligent Review System** — Phases 26-29 (shipped 2026-02-12)
- ✅ **v0.5 Advanced Learning & Language Support** — Phases 30-33 (shipped 2026-02-13)
- ✅ **v0.6 Review Output Formatting & UX** — Phases 34-38 (shipped 2026-02-14)
- ✅ **v0.7 Intelligent Review Content** — Phases 39-41 (shipped 2026-02-14)
- ✅ **v0.8 Conversational Intelligence** — Phases 42-50 (shipped 2026-02-14)
- ✅ **v0.9 Smart Dependencies & Resilience** — Phases 51-55 (shipped 2026-02-15)
- ✅ **v0.10 Advanced Signals** — Phases 56-59 (shipped 2026-02-16)
- ✅ **v0.11 Issue Workflows** — Phases 60-65 (shipped 2026-02-16)
- ✅ **v0.12 Operator Reliability & Retrieval Quality** — Phases 66-71 (shipped 2026-02-17)
- ✅ **v0.13 Reliability Follow-Through** — Phases 72-76 (force-closed 2026-02-18; accepted debt)
- ✅ **v0.14 Slack Integration** — Phases 77-80 (shipped 2026-02-19)
- ✅ **v0.15 Slack Write Workflows** — Phase 81 (shipped 2026-02-19)
- ✅ **v0.16 Review Coverage & Slack UX** — Phases 82-85 (shipped 2026-02-24)
- ✅ **v0.17 Infrastructure Foundation** — Phases 86-88 (shipped 2026-02-24)
- ✅ **v0.18 Knowledge Ingestion** — Phases 89-92 (shipped 2026-02-25)
- ✅ **v0.19 Intelligent Retrieval Enhancements** — Phases 93-96 (shipped 2026-02-25)
- ✅ **v0.20 Multi-Model & Active Intelligence** — Phases 97-102 (shipped 2026-02-26)
- ✅ **v0.21 Issue Triage Foundation** — Phases 103-105 (shipped 2026-02-27)
- [ ] **v0.22 Issue Intelligence** — Phases 106-109 (in progress)

## Phases

<details>
<summary>v0.1 MVP (Phases 1-10) -- SHIPPED 2026-02-09</summary>

See `.planning/milestones/v0.1-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.2 Write Mode (Phases 11-21) -- SHIPPED 2026-02-10</summary>

See `.planning/milestones/v0.2-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.3 Configuration & Observability (Phases 22-25) -- SHIPPED 2026-02-11</summary>

See `.planning/milestones/v0.3-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.4 Intelligent Review System (Phases 26-29) -- SHIPPED 2026-02-12</summary>

See `.planning/milestones/v0.4-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.5 Advanced Learning & Language Support (Phases 30-33) -- SHIPPED 2026-02-13</summary>

See `.planning/milestones/v0.5-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.6 Review Output Formatting & UX (Phases 34-38) -- SHIPPED 2026-02-14</summary>

See `.planning/milestones/v0.6-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.7 Intelligent Review Content (Phases 39-41) -- SHIPPED 2026-02-14</summary>

See `.planning/milestones/v0.7-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.8 Conversational Intelligence (Phases 42-50) -- SHIPPED 2026-02-14</summary>

See `.planning/milestones/v0.8-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.9 Smart Dependencies & Resilience (Phases 51-55) -- SHIPPED 2026-02-15</summary>

See `.planning/milestones/v0.9-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.10 Advanced Signals (Phases 56-59) -- SHIPPED 2026-02-16</summary>

See `.planning/milestones/v0.10-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.11 Issue Workflows (Phases 60-65) -- SHIPPED 2026-02-16</summary>

See `.planning/milestones/v0.11-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.12 Operator Reliability & Retrieval Quality (Phases 66-71) -- SHIPPED 2026-02-17</summary>

See `.planning/milestones/v0.12-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.13 Reliability Follow-Through (Phases 72-76) -- FORCE-CLOSED 2026-02-18</summary>

See `.planning/milestones/v0.13-ROADMAP.md` for full phase details, accepted gaps, and deferred follow-up scope.

</details>

<details>
<summary>v0.14 Slack Integration (Phases 77-80) -- SHIPPED 2026-02-19</summary>

See `.planning/milestones/v0.14-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.15 Slack Write Workflows (Phase 81) -- SHIPPED 2026-02-19</summary>

See `.planning/milestones/v0.15-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.16 Review Coverage & Slack UX (Phases 82-85) -- SHIPPED 2026-02-24</summary>

See `.planning/milestones/v0.16-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.17 Infrastructure Foundation (Phases 86-88) -- SHIPPED 2026-02-24</summary>

See `.planning/milestones/v0.17-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.18 Knowledge Ingestion (Phases 89-92) -- SHIPPED 2026-02-25</summary>

See `.planning/milestones/v0.18-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.19 Intelligent Retrieval Enhancements (Phases 93-96) -- SHIPPED 2026-02-25</summary>

See `.planning/milestones/v0.19-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.20 Multi-Model & Active Intelligence (Phases 97-102) -- SHIPPED 2026-02-26</summary>

See `.planning/milestones/v0.20-ROADMAP.md` for full phase details.

- [x] Phase 97: Multi-LLM Routing & Cost Tracking (3/3 plans) -- completed 2026-02-26
- [x] Phase 98: Contributor Profiles & Identity Linking (4/4 plans) -- completed 2026-02-25
- [x] Phase 99: Wiki Staleness Detection (3/3 plans) -- completed 2026-02-26
- [x] Phase 100: Review Pattern Clustering (5/5 plans) -- completed 2026-02-26
- [x] Phase 101: Wire Executor Dependencies & Fix Cost Tracking (1/1 plan) -- completed 2026-02-26
- [x] Phase 102: Documentation & Verification Closure (1/1 plan) -- completed 2026-02-26

</details>

<details>
<summary>v0.21 Issue Triage Foundation (Phases 103-105) -- SHIPPED 2026-02-27</summary>

See `.planning/milestones/v0.21-ROADMAP.md` for full phase details.

- [x] Phase 103: Issue Corpus Schema & Store (3/3 plans) -- completed 2026-02-27
- [x] Phase 104: Issue MCP Tools (3/3 plans) -- completed 2026-02-27
- [x] Phase 105: Triage Agent Wiring (3/3 plans) -- completed 2026-02-27

</details>

### v0.22 Issue Intelligence (In Progress)

**Milestone Goal:** Populate the issue corpus from historical xbmc/xbmc data, add high-confidence duplicate detection and PR-issue linking, and enable auto-triage on `issues.opened`.

- [x] **Phase 106: Historical Corpus Population** - Backfill xbmc/xbmc issues with embeddings and establish nightly sync
- [x] **Phase 107: Duplicate Detection & Auto-Triage** - Detect duplicate issues at high confidence and auto-triage on `issues.opened` (2 plans) (completed 2026-02-27)
- [ ] **Phase 108: PR-Issue Linking** - Link PRs to related issues via reference parsing and semantic search
- [ ] **Phase 109: Issue Corpus Retrieval Integration** - Wire issue corpus into cross-corpus RRF retrieval with citations

## Phase Details

### Phase 106: Historical Corpus Population
**Goal**: The issue corpus contains all xbmc/xbmc issues with embeddings and stays current via nightly sync
**Depends on**: Phase 105 (issue schema and IssueStore from v0.21)
**Requirements**: INGEST-01, INGEST-02, INGEST-03, INGEST-04, INGEST-05, INGEST-06, INGEST-07
**Success Criteria** (what must be TRUE):
  1. Running the backfill script populates the issues table with historical xbmc/xbmc issues (excluding PRs) and their comment threads, each with Voyage AI embeddings
  2. The backfill script can be interrupted and resumed from where it left off without re-processing already-ingested issues
  3. The backfill script logs page counts, embedding counts, and rate limit status during execution
  4. After the nightly sync job runs, issues updated since the last sync have fresh data and embeddings in the corpus
  5. The nightly sync job also picks up new and updated issue comments
**Plans:** 2 plans (completed 2026-02-27)
Plans:
- [x] 106-01-PLAN.md -- Migration, comment chunker, and core backfill engine
- [x] 106-02-PLAN.md -- CLI script with dual-mode backfill/sync and GitHub Actions nightly workflow

### Phase 107: Duplicate Detection & Auto-Triage
**Goal**: New issues are automatically triaged with duplicate detection, surfacing high-confidence duplicates to maintainers
**Depends on**: Phase 106 (populated corpus required for similarity search)
**Requirements**: DUPL-01, DUPL-02, DUPL-03, DUPL-04, TRIAGE-01, TRIAGE-02, TRIAGE-03, TRIAGE-04
**Success Criteria** (what must be TRUE):
  1. When a new issue is opened and auto-triage is enabled, kodiai posts a triage comment that includes top-3 duplicate candidates (if any) with similarity scores, titles, numbers, and open/closed status
  2. Duplicate detection never auto-closes issues -- it only comments and optionally applies a label
  3. If embedding or search fails during duplicate detection, triage still completes and the failure is logged
  4. Auto-triage on `issues.opened` is gated behind `triage.autoTriageOnOpen` config flag (default: false)
  5. Webhook redelivery, concurrent processing, and rapid re-opening do not produce duplicate triage comments
**Plans:** 2/2 plans complete
Plans:
- [ ] 107-01-PLAN.md -- Migration, config extension, duplicate detector, and triage comment formatter
- [ ] 107-02-PLAN.md -- Issue-opened handler with idempotency and application bootstrap wiring

### Phase 108: PR-Issue Linking
**Goal**: PRs are linked to related issues via explicit references and semantic search, enriching review context
**Depends on**: Phase 106 (populated corpus required for semantic search)
**Requirements**: PRLINK-01, PRLINK-02, PRLINK-03
**Success Criteria** (what must be TRUE):
  1. When a PR body or commit messages contain `fixes #N`, `closes #N`, or `relates-to #N` patterns, the referenced issues are identified and linked
  2. When no explicit references exist, semantic search finds related issues from the corpus and surfaces them as suggestions
  3. Linked issue context (title, status, description summary) is included in PR review prompts, producing more context-aware review feedback
**Plans**: 2/2 plans complete
Plans:
- [x] 108-01-PLAN.md -- Issue reference parser (pure regex) and issue linker orchestrator (parse + fetch + semantic fallback)
- [x] 108-02-PLAN.md -- Wire into review pipeline: extend buildReviewPrompt, inject issueStore dep, call linker in review handler

### Phase 109: Issue Corpus Retrieval Integration
**Goal**: Issue corpus participates in cross-corpus retrieval, making issue context available in all bot responses with citations
**Depends on**: Phase 106 (populated corpus), Phase 108 (PR-issue links inform retrieval weighting)
**Requirements**: PRLINK-04
**Success Criteria** (what must be TRUE):
  1. Issue results appear alongside code, review comment, wiki, and snippet results in unified RRF retrieval
  2. Issue citations use `[issue: #N]` format in PR review and mention responses
  3. Issue corpus is weighted appropriately per trigger type (lower weight for PR reviews, higher for issue-context queries)
**Plans**: 1 plan
Plans:
- [x] 109-01-PLAN.md -- Issue retrieval module, pipeline wiring, and application bootstrap

## Progress

**Execution Order:**
Phases execute in numeric order: 106 -> 107 -> 108 -> 109

**Total shipped:** 21 milestones, 106 phases, 276 plans

| Phase | Milestone | Plans Complete | Status | Completed |
|-------|-----------|----------------|--------|-----------|
| 1-10 | v0.1 | 27/27 | Complete | 2026-02-09 |
| 11-21 | v0.2 | 30/30 | Complete | 2026-02-10 |
| 22-25 | v0.3 | 7/7 | Complete | 2026-02-11 |
| 26-29 | v0.4 | 17/17 | Complete | 2026-02-12 |
| 30-33 | v0.5 | 12/12 | Complete | 2026-02-13 |
| 34-38 | v0.6 | 10/10 | Complete | 2026-02-14 |
| 39-41 | v0.7 | 11/11 | Complete | 2026-02-14 |
| 42-50 | v0.8 | 19/19 | Complete | 2026-02-14 |
| 51-55 | v0.9 | 11/11 | Complete | 2026-02-15 |
| 56-59 | v0.10 | 11/11 | Complete | 2026-02-16 |
| 60-65 | v0.11 | 14/14 | Complete | 2026-02-16 |
| 66-71 | v0.12 | 11/11 | Complete | 2026-02-17 |
| 72-76 | v0.13 | 6/6 | Complete | 2026-02-18 |
| 77-80 | v0.14 | 8/8 | Complete | 2026-02-19 |
| 81 | v0.15 | 4/4 | Complete | 2026-02-19 |
| 82-85 | v0.16 | 6/6 | Complete | 2026-02-24 |
| 86-88 | v0.17 | 8/8 | Complete | 2026-02-24 |
| 89-92 | v0.18 | 15/15 | Complete | 2026-02-25 |
| 93-96 | v0.19 | 14/14 | Complete | 2026-02-25 |
| 97-102 | v0.20 | 17/17 | Complete | 2026-02-26 |
| 103-105 | v0.21 | 9/9 | Complete | 2026-02-27 |
| 106. Corpus Population | v0.22 | 2/2 | Complete | 2026-02-27 |
| 107. Duplicate Detection & Auto-Triage | 2/2 | Complete    | 2026-02-27 | - |
| 108. PR-Issue Linking | v0.22 | 2/2 | Complete | 2026-02-27 |
| 109. Retrieval Integration | v0.22 | 0/1 | Planned | - |

---

*Roadmap updated: 2026-02-27 -- Phase 106 completed*

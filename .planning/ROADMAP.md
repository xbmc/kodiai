# Roadmap: Kodiai

## Milestones

- âœ… **v0.1 MVP** â€” Phases 1-10 (shipped 2026-02-09)
- âœ… **v0.2 Write Mode** â€” Phases 11-21 (shipped 2026-02-10)
- âœ… **v0.3 Configuration & Observability** â€” Phases 22-25 (shipped 2026-02-11)
- âœ… **v0.4 Intelligent Review System** â€” Phases 26-29 (shipped 2026-02-12)
- âœ… **v0.5 Advanced Learning & Language Support** â€” Phases 30-33 (shipped 2026-02-13)
- âœ… **v0.6 Review Output Formatting & UX** â€” Phases 34-38 (shipped 2026-02-14)
- âœ… **v0.7 Intelligent Review Content** â€” Phases 39-41 (shipped 2026-02-14)
- âœ… **v0.8 Conversational Intelligence** â€” Phases 42-50 (shipped 2026-02-14)
- âœ… **v0.9 Smart Dependencies & Resilience** â€” Phases 51-55 (shipped 2026-02-15)
- âœ… **v0.10 Advanced Signals** â€” Phases 56-59 (shipped 2026-02-16)
- âœ… **v0.11 Issue Workflows** â€” Phases 60-65 (shipped 2026-02-16)
- âœ… **v0.12 Operator Reliability & Retrieval Quality** â€” Phases 66-71 (shipped 2026-02-17)
- âœ… **v0.13 Reliability Follow-Through** â€” Phases 72-76 (force-closed 2026-02-18; accepted debt)
- âœ… **v0.14 Slack Integration** â€” Phases 77-80 (shipped 2026-02-19)
- âœ… **v0.15 Slack Write Workflows** â€” Phase 81 (shipped 2026-02-19)
- âœ… **v0.16 Review Coverage & Slack UX** â€” Phases 82-85 (shipped 2026-02-24)
- âœ… **v0.17 Infrastructure Foundation** â€” Phases 86-88 (shipped 2026-02-24)
- âœ… **v0.18 Knowledge Ingestion** â€” Phases 89-92 (shipped 2026-02-25)
- âœ… **v0.19 Intelligent Retrieval Enhancements** â€” Phases 93-96 (shipped 2026-02-25)
- ðŸš§ **v0.20 Multi-Model & Active Intelligence** â€” Phases 97-102 (in progress)

## Phases

<details>
<summary>v0.1 MVP (Phases 1-10) -- SHIPPED 2026-02-09</summary>

See `.planning/milestones/v0.1-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.2 Write Mode (Phases 11-21) -- SHIPPED 2026-02-10</summary>

See `.planning/milestones/v0.2-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.3 Configuration & Observability (Phases 22-25) -- SHIPPED 2026-02-11</summary>

See `.planning/milestones/v0.3-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.4 Intelligent Review System (Phases 26-29) -- SHIPPED 2026-02-12</summary>

See `.planning/milestones/v0.4-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.5 Advanced Learning & Language Support (Phases 30-33) -- SHIPPED 2026-02-13</summary>

See `.planning/milestones/v0.5-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.6 Review Output Formatting & UX (Phases 34-38) -- SHIPPED 2026-02-14</summary>

See `.planning/milestones/v0.6-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.7 Intelligent Review Content (Phases 39-41) -- SHIPPED 2026-02-14</summary>

See `.planning/milestones/v0.7-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.8 Conversational Intelligence (Phases 42-50) -- SHIPPED 2026-02-14</summary>

See `.planning/milestones/v0.8-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.9 Smart Dependencies & Resilience (Phases 51-55) -- SHIPPED 2026-02-15</summary>

See `.planning/milestones/v0.9-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.10 Advanced Signals (Phases 56-59) -- SHIPPED 2026-02-16</summary>

See `.planning/milestones/v0.10-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.11 Issue Workflows (Phases 60-65) -- SHIPPED 2026-02-16</summary>

See `.planning/milestones/v0.11-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.12 Operator Reliability & Retrieval Quality (Phases 66-71) -- SHIPPED 2026-02-17</summary>

See `.planning/milestones/v0.12-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.13 Reliability Follow-Through (Phases 72-76) -- FORCE-CLOSED 2026-02-18</summary>

See `.planning/milestones/v0.13-ROADMAP.md` for full phase details, accepted gaps, and deferred follow-up scope.

</details>

<details>
<summary>v0.14 Slack Integration (Phases 77-80) -- SHIPPED 2026-02-19</summary>

See `.planning/milestones/v0.14-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.15 Slack Write Workflows (Phase 81) -- SHIPPED 2026-02-19</summary>

See `.planning/milestones/v0.15-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.16 Review Coverage & Slack UX (Phases 82-85) -- SHIPPED 2026-02-24</summary>

See `.planning/milestones/v0.16-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.17 Infrastructure Foundation (Phases 86-88) -- SHIPPED 2026-02-24</summary>

See `.planning/milestones/v0.17-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.18 Knowledge Ingestion (Phases 89-92) -- SHIPPED 2026-02-25</summary>

See `.planning/milestones/v0.18-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.19 Intelligent Retrieval Enhancements (Phases 93-96) -- SHIPPED 2026-02-25</summary>

See `.planning/milestones/v0.19-ROADMAP.md` for full phase details.

</details>

### v0.20 Multi-Model & Active Intelligence (In Progress)

See `.planning/milestones/v0.20-ROADMAP.md` for full phase details.

- [x] **Phase 97: Multi-LLM Routing & Cost Tracking** - Vercel AI SDK integration with task-based model routing, provider config, and per-invocation cost logging (completed 2026-02-26)
- [x] **Phase 98: Contributor Profiles & Identity Linking** - GitHub/Slack identity linking with expertise inference and adaptive review behavior (completed 2026-02-25)
- [x] **Phase 99: Wiki Staleness Detection** - Two-tier staleness scoring with file-path evidence and scheduled reports to Slack or GitHub (not started) (completed 2026-02-26)
- [ ] **Phase 100: Review Pattern Clustering** - HDBSCAN-based emergent theme discovery with UMAP reduction and pattern injection into PR reviews (not started)
- [ ] **Phase 101: Wire Executor Dependencies & Fix Cost Tracking** - Wire taskRouter and costTracker to createExecutor, fix wiki-staleness-detector repo field (gap closure)
- [ ] **Phase 102: Documentation & Verification Closure** - Phase 100 VERIFICATION.md, REQUIREMENTS.md checkbox fixes, SUMMARY frontmatter (gap closure)

### Phase 97: Multi-LLM Routing & Cost Tracking
**Goal**: Non-agentic tasks route through configurable models via Vercel AI SDK while agentic tasks remain on Claude Agent SDK, with full cost visibility per invocation
**Depends on**: Nothing (foundation phase)
**Requirements**: LLM-01, LLM-02, LLM-03, LLM-04, LLM-05
**Success Criteria** (what must be TRUE):
  1. A non-agentic task (e.g., generating a summary label) completes via Vercel AI SDK `generateText()` using the configured model, while PR review and mention handling still use Claude Agent SDK `query()`
  2. Changing the `models:` section in `.kodiai.yml` causes the specified task type to route to a different model on next invocation
  3. When a configured provider is unavailable, the task falls back to the default model and completes successfully
  4. Every non-agentic LLM call produces a row in Postgres with model ID, provider, task type, token counts, and estimated USD cost

Plans:
- [x] 97-01: Task routing foundation -- AI SDK packages, task types, provider registry, task router, pricing config, config schema extension
- [x] 97-02: Cost tracking infrastructure -- llm_cost_events migration, LlmCostRecord type, CostTracker module
- [x] 97-03: Generate wrapper and wiring -- generateWithFallback, fallback detection, executor/handler integration

### Phase 98: Contributor Profiles & Identity Linking
**Goal**: Contributors have cross-platform profiles with expertise scores that adapt Kodiai's review depth and tone
**Depends on**: Nothing (independent of Phase 97)
**Requirements**: PROF-01, PROF-02, PROF-03, PROF-04, PROF-05

Plans:
- [x] 98-01: Schema, types, and profile store -- migration 011, contributor types, profile store CRUD with tests
- [x] 98-02: Slash command route and handler -- /kodiai link|unlink|profile|opt-out commands with Hono route
- [x] 98-03: Expertise scorer, tier calculator, identity matcher -- scoring engine with decay, percentile tiers, heuristic name matching
- [x] 98-04: Adaptive review wiring -- 4-tier prompt adaptation, profile-aware author tier resolution, route mounting, identity suggestion DMs

### Phase 99: Wiki Staleness Detection
**Goal**: Kodiai automatically identifies wiki pages invalidated by code changes and delivers evidence-backed staleness reports on schedule
**Depends on**: Phase 97 (model router needed for LLM staleness evaluation)
**Requirements**: WIKI-01, WIKI-02, WIKI-03, WIKI-04, WIKI-05

### Phase 100: Review Pattern Clustering
**Goal**: Kodiai discovers emergent review themes from 18 months of review comment embeddings and surfaces recurring patterns in PR reviews
**Depends on**: Phase 97 (model router needed for cluster label generation)
**Requirements**: CLST-01, CLST-02, CLST-03, CLST-04, CLST-05

### Phase 101: Wire Executor Dependencies & Fix Cost Tracking
**Goal**: Wire taskRouter and costTracker dependencies into createExecutor so agent SDK calls write cost rows and .kodiai.yml model routing is operative for agentic tasks; fix wiki-staleness-detector missing repo field
**Depends on**: Phase 97 (provides taskRouter and costTracker modules)
**Requirements**: LLM-02, LLM-03, LLM-05
**Gap Closure:** Closes integration GAP-1 and GAP-2 from v0.20 audit

### Phase 102: Documentation & Verification Closure
**Goal**: Create missing Phase 100 VERIFICATION.md, fix REQUIREMENTS.md checkboxes for PROF/WIKI sections, and add requirements_completed frontmatter to Phase 100 SUMMARY files
**Depends on**: Phase 100, Phase 101
**Requirements**: CLST-01, CLST-02, CLST-03, CLST-04, CLST-05 (verification), PROF-01-05 (checkbox fix), WIKI-01-05 (checkbox fix)
**Gap Closure:** Closes verification and documentation gaps from v0.20 audit

## Progress

**Total shipped:** 19 milestones, 98 phases, 248 plans

| Phase | Milestone | Plans Complete | Status | Completed |
|-------|-----------|----------------|--------|-----------|
| 1-10 | v0.1 | 27/27 | Complete | 2026-02-09 |
| 11-21 | v0.2 | 30/30 | Complete | 2026-02-10 |
| 22-25 | v0.3 | 7/7 | Complete | 2026-02-11 |
| 26-29 | v0.4 | 17/17 | Complete | 2026-02-12 |
| 30-33 | v0.5 | 12/12 | Complete | 2026-02-13 |
| 34-38 | v0.6 | 10/10 | Complete | 2026-02-14 |
| 39-41 | v0.7 | 11/11 | Complete | 2026-02-14 |
| 42-50 | v0.8 | 19/19 | Complete | 2026-02-14 |
| 51-55 | v0.9 | 11/11 | Complete | 2026-02-15 |
| 56-59 | v0.10 | 11/11 | Complete | 2026-02-16 |
| 60-65 | v0.11 | 14/14 | Complete | 2026-02-16 |
| 66-71 | v0.12 | 11/11 | Complete | 2026-02-17 |
| 72-76 | v0.13 | 6/6 | Complete | 2026-02-18 |
| 77-80 | v0.14 | 8/8 | Complete | 2026-02-19 |
| 81 | v0.15 | 4/4 | Complete | 2026-02-19 |
| 82-85 | v0.16 | 6/6 | Complete | 2026-02-24 |
| 86-88 | v0.17 | 8/8 | Complete | 2026-02-24 |
| 89-92 | v0.18 | 15/15 | Complete | 2026-02-25 |
| 93-96 | v0.19 | 14/14 | Complete | 2026-02-25 |
| 97 | v0.20 | 3/3 | Complete | 2026-02-26 |
| 98 | v0.20 | 4/4 | Complete | 2026-02-25 |
| 99 | 3/3 | Complete    | 2026-02-26 | - |
| 100 | v0.20 | 0/TBD | Not started | - |

---

*Roadmap updated: 2026-02-25 -- Phase 98 completed (Contributor Profiles & Identity Linking)*

# Roadmap: Kodiai

## Milestones

- ✅ **v0.1 MVP** — Phases 1-10 (shipped 2026-02-09)
- ✅ **v0.2 Write Mode** — Phases 11-21 (shipped 2026-02-10)
- ✅ **v0.3 Configuration & Observability** — Phases 22-25 (shipped 2026-02-11)
- ✅ **v0.4 Intelligent Review System** — Phases 26-29 (shipped 2026-02-12)
- ✅ **v0.5 Advanced Learning & Language Support** — Phases 30-33 (shipped 2026-02-13)
- ✅ **v0.6 Review Output Formatting & UX** — Phases 34-38 (shipped 2026-02-14)
- ✅ **v0.7 Intelligent Review Content** — Phases 39-41 (shipped 2026-02-14)
- ✅ **v0.8 Conversational Intelligence** — Phases 42-50 (shipped 2026-02-14)
- ✅ **v0.9 Smart Dependencies & Resilience** — Phases 51-55 (shipped 2026-02-15)
- ✅ **v0.10 Advanced Signals** — Phases 56-59 (shipped 2026-02-16)
- ✅ **v0.11 Issue Workflows** — Phases 60-65 (shipped 2026-02-16)
- ✅ **v0.12 Operator Reliability & Retrieval Quality** — Phases 66-71 (shipped 2026-02-17)
- ✅ **v0.13 Reliability Follow-Through** — Phases 72-76 (force-closed 2026-02-18; accepted debt)
- ✅ **v0.14 Slack Integration** — Phases 77-80 (shipped 2026-02-19)
- ✅ **v0.15 Slack Write Workflows** — Phase 81 (shipped 2026-02-19)
- ✅ **v0.16 Review Coverage & Slack UX** — Phases 82-85 (shipped 2026-02-24)
- ✅ **v0.17 Infrastructure Foundation** — Phases 86-88 (shipped 2026-02-24)
- ✅ **v0.18 Knowledge Ingestion** — Phases 89-92 (shipped 2026-02-25)
- **v0.19 Intelligent Retrieval Enhancements** — Phases 93-96 (in progress)

## Phases

<details>
<summary>v0.1 MVP (Phases 1-10) -- SHIPPED 2026-02-09</summary>

See `.planning/milestones/v0.1-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.2 Write Mode (Phases 11-21) -- SHIPPED 2026-02-10</summary>

See `.planning/milestones/v0.2-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.3 Configuration & Observability (Phases 22-25) -- SHIPPED 2026-02-11</summary>

See `.planning/milestones/v0.3-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.4 Intelligent Review System (Phases 26-29) -- SHIPPED 2026-02-12</summary>

See `.planning/milestones/v0.4-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.5 Advanced Learning & Language Support (Phases 30-33) -- SHIPPED 2026-02-13</summary>

See `.planning/milestones/v0.5-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.6 Review Output Formatting & UX (Phases 34-38) -- SHIPPED 2026-02-14</summary>

See `.planning/milestones/v0.6-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.7 Intelligent Review Content (Phases 39-41) -- SHIPPED 2026-02-14</summary>

See `.planning/milestones/v0.7-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.8 Conversational Intelligence (Phases 42-50) -- SHIPPED 2026-02-14</summary>

See `.planning/milestones/v0.8-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.9 Smart Dependencies & Resilience (Phases 51-55) -- SHIPPED 2026-02-15</summary>

See `.planning/milestones/v0.9-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.10 Advanced Signals (Phases 56-59) -- SHIPPED 2026-02-16</summary>

See `.planning/milestones/v0.10-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.11 Issue Workflows (Phases 60-65) -- SHIPPED 2026-02-16</summary>

See `.planning/milestones/v0.11-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.12 Operator Reliability & Retrieval Quality (Phases 66-71) -- SHIPPED 2026-02-17</summary>

See `.planning/milestones/v0.12-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.13 Reliability Follow-Through (Phases 72-76) -- FORCE-CLOSED 2026-02-18</summary>

See `.planning/milestones/v0.13-ROADMAP.md` for full phase details, accepted gaps, and deferred follow-up scope.

</details>

<details>
<summary>v0.14 Slack Integration (Phases 77-80) -- SHIPPED 2026-02-19</summary>

See `.planning/milestones/v0.14-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.15 Slack Write Workflows (Phase 81) -- SHIPPED 2026-02-19</summary>

See `.planning/milestones/v0.15-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.16 Review Coverage & Slack UX (Phases 82-85) -- SHIPPED 2026-02-24</summary>

See `.planning/milestones/v0.16-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.17 Infrastructure Foundation (Phases 86-88) -- SHIPPED 2026-02-24</summary>

See `.planning/milestones/v0.17-ROADMAP.md` for full phase details.

</details>

<details>
<summary>v0.18 Knowledge Ingestion (Phases 89-92) -- SHIPPED 2026-02-25</summary>

See `.planning/milestones/v0.18-ROADMAP.md` for full phase details.

</details>

### v0.19 Intelligent Retrieval Enhancements (In Progress)

**Milestone Goal:** Make retrieval smarter with language-aware boosting and sub-function granularity, add a specialized deep-review pipeline for dependency bump PRs, and recognize unrelated CI failures.

- [x] **Phase 93: Language-Aware Retrieval Boosting** - Schema extension + retrieval ranking boost by stored language metadata (completed 2026-02-25)
- [ ] **Phase 94: [depends] PR Deep Review** - Specialized in-depth review pipeline for Kodi-convention dependency bump PRs
- [ ] **Phase 95: CI Failure Recognition** - Detect and annotate CI failures unrelated to the PR with base-branch comparison reasoning
- [ ] **Phase 96: Code Snippet Embedding** - Hunk-level embedding for sub-function granularity retrieval (exploratory, feature-flagged)

## Phase Details

### Phase 93: Language-Aware Retrieval Boosting
**Goal**: Retrieval results are ranked using stored language metadata across all three corpora, eliminating runtime re-classification and improving relevance for language-specific queries
**Depends on**: Nothing (first phase -- schema-additive, improves all downstream)
**Requirements**: LANG-01, LANG-02, LANG-03, LANG-04, LANG-05
**Success Criteria** (what must be TRUE):
  1. Learning memory records written after this phase include their source file's programming language in the database
  2. Existing learning memory records have been backfilled with language classification via a migration script
  3. Wiki pages carry language affinity tags so that language-filtered retrieval spans code, review, and wiki corpora
  4. Retrieval results for a C++ PR rank C++ code memories and C++-tagged wiki pages higher than Python ones, using stored metadata (not runtime file-path re-derivation)
  5. Language weighting is applied in exactly one location in the retrieval pipeline -- no double-boost from legacy + unified paths
**Plans**: TBD

### Phase 94: [depends] PR Deep Review
**Goal**: Kodiai produces a structured deep-review comment on Kodi-convention dependency bump PRs with changelog analysis, impact assessment, and build verification
**Depends on**: Phase 93 (language boosting improves C/C++ context retrieval for dependency PRs)
**Requirements**: DEPS-01, DEPS-02, DEPS-03, DEPS-04, DEPS-05, DEPS-06, DEPS-07, DEPS-08
**Success Criteria** (what must be TRUE):
  1. A PR titled "[depends] Bump zlib 1.3.2" or "[Windows] Refresh fstrcmp 0.7" triggers the deep review pipeline, not the standard Dependabot/Renovate pipeline
  2. A Dependabot PR still triggers only the existing Dependabot pipeline -- detection is strictly mutually exclusive
  3. The review comment includes a version diff summary, changelog highlights relevant to Kodi, impact assessment of which Kodi files consume the dependency, hash/URL verification, and action items
  4. The review comment surfaces whether the bump introduces new transitive dependencies or version conflicts
  5. If upstream changelog fetching fails, the review degrades gracefully with a note rather than failing the entire review
**Plans**: TBD

### Phase 95: CI Failure Recognition
**Goal**: Kodiai annotates CI failures that appear unrelated to the PR, giving maintainers confidence to merge without investigating pre-existing breakage
**Depends on**: Nothing (independent of retrieval changes; can parallelize with Phase 94)
**Requirements**: CIFR-01, CIFR-02, CIFR-03, CIFR-04, CIFR-05
**Success Criteria** (what must be TRUE):
  1. After CI completes on a PR, Kodiai posts a separate annotation comment identifying which check failures also appear on the base branch (with reasoning)
  2. Kodiai uses the Checks API (not Actions API) so that external CI systems like Jenkins are included, not just GitHub Actions
  3. Kodiai does not lower merge confidence or block approval based on failures classified as unrelated
  4. Historically flaky workflows/steps are tracked and used as an additional signal for unrelatedness classification
  5. When all CI checks pass, Kodiai does not post a CI annotation comment (no noise on clean PRs)
**Plans**: TBD

### Phase 96: Code Snippet Embedding
**Goal**: PR diff hunks are embedded at hunk-level granularity and integrated as a fourth retrieval corpus, enabling sub-function semantic search across past PR changes
**Depends on**: Phase 93 (validates language column pattern reused in code_snippets table)
**Requirements**: SNIP-01, SNIP-02, SNIP-03, SNIP-04, SNIP-05
**Success Criteria** (what must be TRUE):
  1. PR diff hunks are chunked at the hunk level and embedded in a dedicated `code_snippets` table with PR, file, and line metadata
  2. Identical hunks appearing in multiple PRs are not re-embedded (content-hash deduplication)
  3. Hunk embeddings appear in cross-corpus retrieval results with a `[snippet]` source label alongside code, review, and wiki results
  4. Embedding cost is bounded -- only hunks from PRs that produce findings are persisted, with a configurable per-PR hunk cap
  5. The feature ships behind a `.kodiai.yml` flag (`retrieval.hunkEmbedding.enabled`) defaulting to enabled
**Plans**: TBD

## Progress

**Execution Order:**
Phases execute in numeric order: 93 -> 94 -> 95 -> 96

**Total shipped:** 18 milestones, 92 phases, 227 plans

| Phase | Milestone | Plans Complete | Status | Completed |
|-------|-----------|----------------|--------|-----------|
| 1-10 | v0.1 | 27/27 | Complete | 2026-02-09 |
| 11-21 | v0.2 | 30/30 | Complete | 2026-02-10 |
| 22-25 | v0.3 | 7/7 | Complete | 2026-02-11 |
| 26-29 | v0.4 | 17/17 | Complete | 2026-02-12 |
| 30-33 | v0.5 | 12/12 | Complete | 2026-02-13 |
| 34-38 | v0.6 | 10/10 | Complete | 2026-02-14 |
| 39-41 | v0.7 | 11/11 | Complete | 2026-02-14 |
| 42-50 | v0.8 | 19/19 | Complete | 2026-02-14 |
| 51-55 | v0.9 | 11/11 | Complete | 2026-02-15 |
| 56-59 | v0.10 | 11/11 | Complete | 2026-02-16 |
| 60-65 | v0.11 | 14/14 | Complete | 2026-02-16 |
| 66-71 | v0.12 | 11/11 | Complete | 2026-02-17 |
| 72-76 | v0.13 | 6/6 | Complete | 2026-02-18 |
| 77-80 | v0.14 | 8/8 | Complete | 2026-02-19 |
| 81 | v0.15 | 4/4 | Complete | 2026-02-19 |
| 82-85 | v0.16 | 6/6 | Complete | 2026-02-24 |
| 86-88 | v0.17 | 8/8 | Complete | 2026-02-24 |
| 89-92 | v0.18 | 15/15 | Complete | 2026-02-25 |
| 93 | 4/4 | Complete    | 2026-02-25 | - |
| 94 | 1/4 | In Progress|  | - |
| 95 | v0.19 | 0/? | Not started | - |
| 96 | v0.19 | 0/? | Not started | - |

---

*Roadmap updated: 2026-02-25 -- v0.19 Intelligent Retrieval Enhancements roadmap created*
